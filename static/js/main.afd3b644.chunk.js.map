{"version":3,"sources":["components/SearchField.js","components/Result.js","components/DisplayImage.js","components/Footer.js","components/Error.js","containers/App.js","containers/ErrorBoundary.js","index.js"],"names":["SearchField","props","useState","imageURL","setImageURL","className","onSubmit","e","preventDefault","btn","document","getElementsByClassName","keyCode","click","type","name","placeholder","onChange","event","target","value","console","log","onClick","imageurl","Result","sendResults","height","undefined","concepts","style","marginTop","scope","Math","round","_","upperFirst","DisplayImage","image","loadedImage","boundValue","id","onLoad","width","getElementById","src","alt","top","right","bottom","left","Footer","dateYear","Date","getFullYear","href","Error","errorMessage","show","fade","iconClassName","title","apiName","message","data","text","status","require","config","App","setImage","boundingArray","setBoundingArray","results","setResults","imageHeight","setImageHeight","setErrorMessage","error","setError","loading","setLoading","clarifaiApp","Clarifai","apiKey","clarifaiResponse","response","LC","region_info","bounding_box","left_col","TR","top_row","RC","right_col","BR","bottom_row","tempArray","push","upperCase","url","setTimeout","axios","method","params","count","query","then","urls","full","catch","errorArray","request","alert","role","models","predict","DEMOGRAPHICS_MODEL","maxConcepts","outputs","regions","description","ErrorBoundary","state","errorInfo","this","setState","textAlign","whiteSpace","toString","componentStack","children","React","Component","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.afd3b644.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nfunction SearchField(props) {\r\n\tconst [imageURL, setImageURL] = useState(\"\");\r\n\r\n\tfunction handleClick() {\r\n\t\tprops.imageurl(imageURL);\r\n\t\tsetImageURL(\"\");\r\n\t}\r\n\r\n\tfunction handleChange(event) {\r\n\t\tsetImageURL(event.target.value);\r\n\t\tconsole.log(event.target.value);\r\n\t}\r\n\r\n\t//handle user pressing enter button for search\r\n\t//with button type submit\r\n\tfunction submitForm(e) {\r\n\t\t// Cancel the default action\r\n\t\te.preventDefault();\r\n\t\tvar btn = document.getElementsByClassName(\"submitBtn\");\r\n\t\tif (e.keyCode === 13) {\r\n\t\t\t// Trigger the button element with a click\r\n\t\t\tbtn[0].click();\r\n\t\t\t// e.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<form className=\"searchForm\" onSubmit={submitForm}>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\tplaceholder=\"Paste Image URL here\"\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tvalue={imageURL}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"btn btn-secondary submitBtn\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tonClick={handleClick}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SearchField;\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\n\r\nfunction Result({ sendResults, height }) {\r\n\tif (sendResults.concepts !== undefined) {\r\n\t\treturn (\r\n\t\t\t<div className=\"resultTable\" style={{ marginTop: height + 20 }}>\r\n\t\t\t\t<h4>Results</h4>\r\n\t\t\t\t<table className=\"table table-hover\">\r\n\t\t\t\t\t<caption>Prediction made using Clarifai</caption>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr className=\"table-light\">\r\n\t\t\t\t\t\t\t<th scope=\"col\">Categories</th>\r\n\t\t\t\t\t\t\t<th scope=\"col\">Value</th>\r\n\t\t\t\t\t\t\t<th scope=\"col\">Confidence</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr className=\"table-info\">\r\n\t\t\t\t\t\t\t<th scope=\"row\">Age</th>\r\n\t\t\t\t\t\t\t<td>{sendResults.concepts[0].name}</td>\r\n\t\t\t\t\t\t\t<td>{Math.round(sendResults.concepts[0].value * 100) + \"%\"}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr className=\"table-info\">\r\n\t\t\t\t\t\t\t<th scope=\"row\">Gender</th>\r\n\t\t\t\t\t\t\t<td>{_.upperFirst(sendResults.concepts[1].name)}</td>\r\n\t\t\t\t\t\t\t<td>{Math.round(sendResults.concepts[1].value * 100) + \"%\"}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr className=\"table-info\">\r\n\t\t\t\t\t\t\t<th scope=\"row\">Race</th>\r\n\t\t\t\t\t\t\t<td>{_.upperFirst(sendResults.concepts[2].name)}</td>\r\n\t\t\t\t\t\t\t<td>{Math.round(sendResults.concepts[2].value * 100) + \"%\"}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn <div></div>;\r\n\t}\r\n}\r\n\r\nexport default Result;\r\n","import React from \"react\";\r\n\r\nfunction DisplayImage({ image, loadedImage, boundValue }) {\r\n\tfunction handleLoad() {\r\n\t\tlet width = document.getElementById(\"image\").width;\r\n\t\tlet height = document.getElementById(\"image\").height;\r\n\t\tloadedImage(width, height);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"center\">\r\n\t\t\t<div className=\"image\">\r\n\t\t\t\t<img id=\"image\" onLoad={handleLoad} src={image} alt=\"\" />\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"bounding-box\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\ttop: boundValue[0],\r\n\t\t\t\t\t\tright: boundValue[1],\r\n\t\t\t\t\t\tbottom: boundValue[2],\r\n\t\t\t\t\t\tleft: boundValue[3],\r\n\t\t\t\t\t}}\r\n\t\t\t\t></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DisplayImage;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n\tlet dateYear = new Date().getFullYear();\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t<h6>\r\n\t\t\t\t<a href=\"http://ugoarubaleze.com/\">\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<i className=\"fas fa-code\" /> by Ugo Arubaleze {dateYear}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</a>\r\n\t\t\t</h6>\r\n\t\t</footer>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { MDBNotification } from \"mdbreact\";\r\n\r\nfunction Error({ errorMessage }) {\r\n\treturn (\r\n\t\t<div className=\"errorReport\">\r\n\t\t\t<MDBNotification\r\n\t\t\t\tshow\r\n\t\t\t\tfade\r\n\t\t\t\ticonClassName=\"text-danger\"\r\n\t\t\t\ttitle={errorMessage.apiName + \" error\"}\r\n\t\t\t\tmessage={errorMessage.data}\r\n\t\t\t\ttext={\"Code \" + errorMessage.status}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Error;\r\n","import React, { useState } from \"react\";\nimport SearchField from \"../components/SearchField\";\nimport Result from \"../components/Result\";\nimport DisplayImage from \"../components/DisplayImage\";\nimport Footer from \"../components/Footer\";\nimport Error from \"../components/Error\";\nimport axios from \"axios\";\nimport Clarifai from \"clarifai\";\nimport _ from \"lodash\";\nrequire(\"dotenv\").config();\n\nfunction App() {\n\tconst [image, setImage] = useState(\"\");\n\tconst [boundingArray, setBoundingArray] = useState([]);\n\tconst [results, setResults] = useState([]);\n\tconst [imageHeight, setImageHeight] = useState(0);\n\tconst [errorMessage, setErrorMessage] = useState({});\n\tconst [error, setError] = useState(false);\n\tconst [loading, setLoading] = useState();\n\n\tfunction imageurl(url) {\n\t\t//get image from response and assign to image state\n\t\t//reset bounding array to an empty array\n\t\t//set error state to false, just in case it was true prior\n\t\t//reset result array\n\t\tsetLoading(true); //*Loading set to true\n\t\tsetTimeout(() => {\n\t\t\tsetImage(url); //*Add a set timeout here for setting Image\n\t\t\tsetLoading(false); //*set loading False\n\t\t}, 1000);\n\t\tsetBoundingArray([]);\n\t\tsetError(false);\n\t\tsetResults([]);\n\t}\n\n\t//unsplashAPI key and request URL\n\tlet apikey =\n\t\t\"6c6aa4aeaaacba7f565d998823cec7f4cb07ab3d1cfa9b6b8efffa557a57681a\";\n\tlet unsplashURL =\n\t\t\"https://api.unsplash.com/photos/random?client_id=\" + apikey;\n\n\t//unsplah API call using axios\n\t//triggered by random image button in return div\n\tfunction randomImage() {\n\t\t//remove previous image\n\t\tsetImage(\"\");\n\t\t//make api request with axios\n\t\taxios({\n\t\t\tmethod: \"get\",\n\t\t\turl: unsplashURL,\n\t\t\tparams: { count: 1, query: \"portrait\" },\n\t\t})\n\t\t\t.then(function (response) {\n\t\t\t\t//get image from response and assign to image state\n\t\t\t\t//reset bounding array to an empty array\n\t\t\t\t//set error state to false, just in case it was true prior\n\t\t\t\t//reset result array\n\t\t\t\tlet image = response.data[0].urls.full;\n\t\t\t\tsetLoading(true); //*Loading set to true\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetImage(image); //*Add a set timeout here for setting Image\n\t\t\t\t\tsetLoading(false); //*set loading False\n\t\t\t\t}, 1000);\n\n\t\t\t\tsetBoundingArray([]);\n\t\t\t\tsetError(false);\n\t\t\t\tsetResults([]);\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tif (error.response) {\n\t\t\t\t\t// The request was made and the server responded with a status code\n\t\t\t\t\t// that falls out of the range of 2xx\n\t\t\t\t\t//sample error console log and response\n\t\t\t\t\t//console.log(error.response.data); //!Rate limit Exceeded\n\t\t\t\t\t//console.log(error.response.status); //!403\n\t\t\t\t\tlet errorArray = {\n\t\t\t\t\t\tdata: error.response.data,\n\t\t\t\t\t\tstatus: error.response.status,\n\t\t\t\t\t\tapiName: \"Unsplash API\",\n\t\t\t\t\t};\n\t\t\t\t\tsetErrorMessage(errorArray);\n\t\t\t\t\tsetError(true);\n\t\t\t\t} else if (error.request) {\n\t\t\t\t\t// The request was made but no response was received\n\t\t\t\t\t// `error.request` is an instance of XMLHttpRequest in the browser and an\n\t\t\t\t\t//instance of http.ClientRequest in node.js\n\t\t\t\t\tconsole.log(error.request);\n\t\t\t\t\tlet errorArray = {\n\t\t\t\t\t\tdata: error.request.data,\n\t\t\t\t\t\tstatus: error.request.status,\n\t\t\t\t\t\tapiName: \"Unsplash API\",\n\t\t\t\t\t};\n\t\t\t\t\tsetErrorMessage(errorArray);\n\t\t\t\t\tsetError(true);\n\t\t\t\t} else {\n\t\t\t\t\t// Something happened in setting up the request that triggered an Error\n\t\t\t\t\tconsole.log(\"Error\", error.message);\n\t\t\t\t\talert(\"An Error Occured\");\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t//clarifai Api key and app const for Api call\n\tlet clarifaiKey = \"dbe78b3e59a44d60b6399bf6175813a1\";\n\tconst clarifaiApp = new Clarifai.App({ apiKey: clarifaiKey });\n\n\tfunction clarifaiApiCall(width, height) {\n\t\t// using clarifaiApi package to make request\n\t\tclarifaiApp.models\n\t\t\t.predict(Clarifai.DEMOGRAPHICS_MODEL, image, { maxConcepts: 1 })\n\t\t\t.then(function (response) {\n\t\t\t\t// do something with response\n\t\t\t\t//if response has data values in it\n\t\t\t\tif (response.outputs[0].data.regions) {\n\t\t\t\t\t//call the bounding box math function using respsonse\n\t\t\t\t\t//and image width and height from displayImage.js\n\t\t\t\t\tclarifaiResponse(response.outputs[0].data.regions, width, height);\n\t\t\t\t} else {\n\t\t\t\t\t//No value in data response error handling\n\t\t\t\t\t//alert(\"No data error\");\n\t\t\t\t\t//outline error parameters and assign to temp object value\n\t\t\t\t\tlet errorArray = {\n\t\t\t\t\t\tdata: \"Poor facial data / no data error\",\n\t\t\t\t\t\tstatus: \"404\",\n\t\t\t\t\t\tapiName: \"Clarifai API\",\n\t\t\t\t\t};\n\t\t\t\t\t//pass error parameters to state\n\t\t\t\t\tsetErrorMessage(errorArray);\n\t\t\t\t\tsetError(true);\n\t\t\t\t\t//doesnt let bounding box be displayed for invalid pictures or\n\t\t\t\t\t//not enough facial regonition\n\t\t\t\t\tclarifaiResponse(0, 0, 0);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\t// there was an error\n\t\t\t\tif (error.response) {\n\t\t\t\t\t//for error reporting\n\t\t\t\t\t//https://docs.clarifai.com/api-guide/api-overview/status-codes\n\t\t\t\t\tconsole.log(error.response.data.status.description);\n\t\t\t\t\tconsole.log(error.response.status);\n\t\t\t\t\tlet errorArray = {\n\t\t\t\t\t\tdata: error.response.data.status.description,\n\t\t\t\t\t\tstatus: error.response.status,\n\t\t\t\t\t\tapiName: \"Clarifai API\",\n\t\t\t\t\t};\n\t\t\t\t\tsetErrorMessage(errorArray);\n\t\t\t\t\tsetError(true);\n\t\t\t\t} else if (error.request) {\n\t\t\t\t\t// The request was made but no response was received\n\t\t\t\t\t// `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n\t\t\t\t\t// http.ClientRequest in node.js\n\t\t\t\t\tconsole.log(error.request);\n\t\t\t\t\tlet errorArray = {\n\t\t\t\t\t\tdata: error.response.data.status.description,\n\t\t\t\t\t\tstatus: error.response.status,\n\t\t\t\t\t\tapiName: \"Clarifai API\",\n\t\t\t\t\t};\n\t\t\t\t\tsetErrorMessage(errorArray);\n\t\t\t\t\tsetError(true);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tfunction clarifaiResponse(response, width, height) {\n\t\t//perfrom bouding box math\n\t\tlet LC = response[0].region_info.bounding_box.left_col * width;\n\t\tlet TR = response[0].region_info.bounding_box.top_row * height;\n\t\tlet RC = width - response[0].region_info.bounding_box.right_col * width;\n\t\tlet BR = height - response[0].region_info.bounding_box.bottom_row * height;\n\t\t//create temp array\n\t\tlet tempArray = [];\n\t\t//push bounding values to temp array\n\t\ttempArray.push(TR, RC, BR, LC);\n\t\t//set boundingArray state\n\t\tsetBoundingArray(tempArray);\n\t\t//set results state\n\t\tsetResults(response[0].data);\n\t\t//set image height state for result display\n\t\tsetImageHeight(height);\n\t}\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<h1>{_.upperCase(\"Demographic Predictor\")}</h1>\n\t\t\t<SearchField imageurl={imageurl} />\n\t\t\t<h5>OR</h5>\n\t\t\t<button className=\"randomBtn btn btn-secondary\" onClick={randomImage}>\n\t\t\t\tRandom Image\n\t\t\t</button>\n\n\t\t\t<div>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"spinner-border text-info\"\n\t\t\t\t\t\tstyle={{ width: 60, height: 60, marginTop: 100 }}\n\t\t\t\t\t\trole=\"status\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<DisplayImage\n\t\t\t\t\t\timage={image}\n\t\t\t\t\t\tloadedImage={clarifaiApiCall}\n\t\t\t\t\t\tboundValue={boundingArray}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{error ? (\n\t\t\t\t<div>\n\t\t\t\t\t<Error errorMessage={errorMessage} />\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div>\n\t\t\t\t\t<Result sendResults={results} height={imageHeight} />\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<Footer />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\r\n\r\nclass ErrorBoundary extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { error: null, errorInfo: null };\r\n\t}\r\n\r\n\tcomponentDidCatch(error, errorInfo) {\r\n\t\t// Catch errors in any components below and re-render with error message\r\n\t\tthis.setState({\r\n\t\t\terror: error,\r\n\t\t\terrorInfo: errorInfo,\r\n\t\t});\r\n\t\t// You can also log error messages to an error reporting service here\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.errorInfo) {\r\n\t\t\t// Error path\r\n\t\t\treturn (\r\n\t\t\t\t<div style={{ textAlign: \"center\", marginTop: 100 }}>\r\n\t\t\t\t\t<h2>Something went wrong.</h2>\r\n\t\t\t\t\t<details style={{ whiteSpace: \"pre-wrap\" }}>\r\n\t\t\t\t\t\t{this.state.error && this.state.error.toString()}\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t{this.state.errorInfo.componentStack}\r\n\t\t\t\t\t</details>\r\n\t\t\t\t\t{/* <image src={ErrorImage} alt=\"\" style={{ width: 200 }} /> */}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\t// Normally, just render children\r\n\t\treturn this.props.children;\r\n\t}\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./containers/App\";\nimport ErrorBoundary from \"./containers/ErrorBoundary\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<ErrorBoundary>\n\t\t\t<App />\n\t\t</ErrorBoundary>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}