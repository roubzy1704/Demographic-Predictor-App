(this["webpackJsonpdemographic-app"]=this["webpackJsonpdemographic-app"]||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(12),o=a.n(s),l=(a(65),a(7));var c=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),s=a[0],o=a[1];return r.a.createElement("div",null,r.a.createElement("form",{className:"searchForm",onSubmit:function(e){e.preventDefault();var t=document.getElementsByClassName("submitBtn");13===e.keyCode&&t[0].click()}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"search",placeholder:"Paste Image URL here",onChange:function(e){o(e.target.value),console.log(e.target.value)},value:s}),r.a.createElement("button",{className:"btn btn-secondary submitBtn",type:"submit",onClick:function(){e.imageurl(s),o("")}},"Submit"))))},i=a(17),m=a.n(i);var u=function(e){var t=e.sendResults,a=e.height;return void 0!==t.concepts?r.a.createElement("div",{className:"resultTable",style:{marginTop:a+20}},r.a.createElement("h4",null,"Results"),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("caption",null,"Prediction made using Clarifai"),r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-light"},r.a.createElement("th",{scope:"col"},"Categories"),r.a.createElement("th",{scope:"col"},"Value"),r.a.createElement("th",{scope:"col"},"Confidence"))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:"table-info"},r.a.createElement("th",{scope:"row"},"Age"),r.a.createElement("td",null,t.concepts[0].name),r.a.createElement("td",null,Math.round(100*t.concepts[0].value)+"%")),r.a.createElement("tr",{className:"table-info"},r.a.createElement("th",{scope:"row"},"Gender"),r.a.createElement("td",null,m.a.upperFirst(t.concepts[1].name)),r.a.createElement("td",null,Math.round(100*t.concepts[1].value)+"%")),r.a.createElement("tr",{className:"table-info"},r.a.createElement("th",{scope:"row"},"Race"),r.a.createElement("td",null,m.a.upperFirst(t.concepts[2].name)),r.a.createElement("td",null,Math.round(100*t.concepts[2].value)+"%"))))):r.a.createElement("div",null)};var d=function(e){var t=e.image,a=e.loadedImage,n=e.boundValue;return r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{id:"image",onLoad:function(){var e=document.getElementById("image").width,t=document.getElementById("image").height;a(e,t)},src:t,alt:""}),r.a.createElement("div",{className:"bounding-box",style:{top:n[0],right:n[1],bottom:n[2],left:n[3]}})))};var p=function(){var e=(new Date).getFullYear();return r.a.createElement("footer",{className:"footer"},r.a.createElement("h6",null,r.a.createElement("a",{href:"http://ugoarubaleze.com/"},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-code"})," by Ugo Arubaleze ",e))))},g=a(57);var h=function(e){var t=e.errorMessage;return r.a.createElement("div",{className:"errorReport"},r.a.createElement(g.d,{show:!0,fade:!0,iconClassName:"text-danger",title:t.apiName+" error",message:t.data,text:"Code "+t.status}))},E=a(6),b=a.n(E),f=a(27),v=a.n(f);var y=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)([]),i=Object(l.a)(o,2),g=i[0],E=i[1],f=Object(n.useState)([]),y=Object(l.a)(f,2),N=y[0],w=y[1],I=Object(n.useState)(0),C=Object(l.a)(I,2),O=C[0],j=C[1],S=Object(n.useState)({}),x=Object(l.a)(S,2),A=x[0],k=x[1],T=Object(n.useState)(!1),_=Object(l.a)(T,2),P=_[0],B=_[1],R=Object(n.useState)(),M=Object(l.a)(R,2),L=M[0],D=M[1],q=new v.a.App({apiKey:"dbe78b3e59a44d60b6399bf6175813a1"});function U(e,t,a){var n=e[0].region_info.bounding_box.left_col*t,r=e[0].region_info.bounding_box.top_row*a,s=t-e[0].region_info.bounding_box.right_col*t,o=a-e[0].region_info.bounding_box.bottom_row*a,l=[];l.push(r,s,o,n),E(l),w(e[0].data),j(a)}return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,m.a.upperCase("Demographic Predictor")),r.a.createElement("button",{className:"instructions btn btn-info",onClick:function(){var e=document.getElementsByClassName("instructionText");"block"===e[0].style.display?(e[0].style.display="none",document.getElementsByClassName("instructions")[0].innerHTML="Show Instructions"):(e[0].style.display="block",document.getElementsByClassName("instructions")[0].innerHTML="Hide Instructions")}},"Show Instructions"),r.a.createElement("div",{className:"instructionText"},r.a.createElement("p",null,"This App uses an individual's image to predict their Age, Gender and Race"),r.a.createElement("p",null,"The predictions are made using the Clarifai API"),r.a.createElement("p",null,"You can paste an image URL or get a random image from Unsplash.com"),r.a.createElement("p",null,"Person does not exist images are computer generated images"),r.a.createElement("p",null,"using a Style-based Generative Adversarial Network (StyleGAN)"),r.a.createElement("p",null,"and are liable to faulty predictions. This is just to show how AI generated Image"),r.a.createElement("p",null,"can trick the prediction algorithm. Learn more by visiting"),r.a.createElement("a",{href:"https:\\\\www.thispersondoesnotexist.com",target:"_blank",rel:" noopener noreferrer",style:{color:"blue"}},"This Person Does Not Exist")),r.a.createElement(c,{imageurl:function(e){D(!0),s(e),setTimeout((function(){D(!1)}),1e3),E([]),B(!1),w([])}}),r.a.createElement("h5",null,"OR"),r.a.createElement("button",{className:"randomBtn btn btn-secondary",onClick:function(){s(""),b()({method:"get",url:"https://api.unsplash.com/photos/random?client_id=6c6aa4aeaaacba7f565d998823cec7f4cb07ab3d1cfa9b6b8efffa557a57681a",params:{count:1,query:"portrait"}}).then((function(e){var t=e.data[0].urls.full;D(!0),s(t),setTimeout((function(){D(!1)}),2e3),E([]),B(!1),w([])})).catch((function(e){if(e.response){var t={data:e.response.data,status:e.response.status,apiName:"Unsplash API"};k(t),B(!0)}else if(e.request){console.log(e.request);var a={data:e.request.data,status:e.request.status,apiName:"Unsplash API"};k(a),B(!0)}else console.log("Error",e.message),alert("An Error Occured")}))}},"Random Image"),r.a.createElement("button",{className:"randomBtn btn btn-secondary","data-toggle":"tooltip","data-placement":"top",title:"Image is computer generated",onClick:function(){b()({method:"get",url:"https://www.thispersondoesnotexist.com/image"}),D(!0),s("https://www.thispersondoesnotexist.com/image"),setTimeout((function(){D(!1)}),1e3),E([]),B(!1),w([])},style:{marginLeft:10}},"Person Does not Exist Image"),r.a.createElement("div",null,L?r.a.createElement("div",{className:"spinner-border text-info",style:{width:60,height:60,marginTop:100},role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(d,{image:a,loadedImage:function(e,t){q.models.predict(v.a.DEMOGRAPHICS_MODEL,a,{maxConcepts:1}).then((function(a){if(a.outputs[0].data.regions)U(a.outputs[0].data.regions,e,t);else{k({data:"Poor facial data / no data error",status:"404",apiName:"Clarifai API"}),B(!0),U(0,0,0)}})).catch((function(e){if(e.response){console.log(e.response.data.status.description),console.log(e.response.status);var t={data:e.response.data.status.description,status:e.response.status,apiName:"Clarifai API"};k(t),B(!0)}else if(e.request){console.log(e.request);var a={data:e.response.data.status.description,status:e.response.status,apiName:"Clarifai API"};k(a),B(!0)}}))},boundValue:g})),P?r.a.createElement("div",null,r.a.createElement(h,{errorMessage:A})):r.a.createElement("div",null,r.a.createElement(u,{sendResults:N,height:O})),r.a.createElement(p,null))},N=a(55),w=a(56),I=a(59),C=a(58),O=function(e){Object(I.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).state={error:null,errorInfo:null},n}return Object(w.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?r.a.createElement("div",{style:{textAlign:"center",marginTop:100}},r.a.createElement("h2",null,"Something went wrong."),r.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.state.error&&this.state.error.toString(),r.a.createElement("br",null),this.state.errorInfo.componentStack)):this.props.children}}]),a}(r.a.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null,r.a.createElement(y,null))),document.getElementById("root"))},60:function(e,t,a){e.exports=a(123)},65:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.b78e661d.chunk.js.map